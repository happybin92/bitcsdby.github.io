---
author: bydiao
comments: true
date: 2013-03-16 01:52:57+00:00
layout: post
slug: clr%e5%be%ae%e5%8d%9a%e4%b8%80%e7%a7%8d%e5%8f%96%e5%ad%90%e6%b8%b8%e6%88%8f%e7%9a%84%e5%bf%85%e8%83%9c%e7%ad%96%e7%95%a5
title: '[clr微博]一种取子游戏的必胜策略'
wordpress_id: 221
categories:
- 数学基础
- 面试题
tags:
- 数学基础
- 斐波那契博弈
- 面试题
---

题目：两个玩家，一堆石头，假设多于100块，两人依次拿，最后拿光者赢，规则是：
1. 第一个人不能一次拿光所有的；
2. 第一次拿了之后， 每人每次最多只能拿对方前一次拿的数目的两倍。
求先拿者必胜策略, 如果有的话。怎么证明必胜。

答：如果n是斐波纳契数则无必胜策略，如果不是则有必胜策略。
引理1：齐肯多夫定理 任何一个数都可以表示为不连续的多个斐波那契额数的和，证明见维基百科"齐肯多夫定理"
引理2：斐波纳契数列满足\(f(k+1) < 2 \times f(k)\)
数学归纳法证明：
i=1时不满足题意，不考虑。
i=2时，n=2显然先手必败
i=3时，n=3显然先手必败
\(i=k\ge3\)
假设i=k时成立，
\(i=k+1\)时，\(f(i)=f(k)+f(k-1)\),即如果后手能拿到\(f(k-1)\)的最后一颗，原命题得证，现证明如下：

若先手取\(x \ge \frac{1}{3} f(k-1)\)，后手则可以取光剩余的\(y=f(k-1)-x，\)
且\(y=f(k-1)-x < \frac{2}{3}f(k-1) < \frac{1}{2}f(k)\)，即先手无法一次性取光剩余的f(k)
若先手去\(x \le \frac{1}{3} f(k-1)\),一定有\(f(k-3) > \frac{1}{3}f(k-1)\)，后手可取光f(k-3)-x则问题回到上步。

则原命题得证。

反之，若n不是斐波纳契数，则先手取x，使得n-x为一个斐波那契数，则必胜。
